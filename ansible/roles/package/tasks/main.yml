# パッケージの更新
---
- name: update yum
  become: yes
  yum:
    name: "*"
    state: latest

# パッケージのインストール
- name: package install yum
  become: yes
  yum:
    name: "{{ item }}"
    state: present  
  with_items:
    - gcc-c++
    - make
    - patch
    - curl
    - zlib
    - zlib-devel
    - openssl-devel
    - ImageMagick-devel
    - readline-devel
    - libcurl-devel
    - libffi-devel
    - libyaml-devel
    - libicu-devel
    - libxml2
    - libxml2-devel
    - libxslt-devel
    - glibc-headers
    - readline
    - libxml2
    - libxslt
    - sqlite-devel


#　Nodejsのインストール  
- name: Setup nodejs14.x
  shell: curl -sL https://rpm.nodesource.com/setup_14.x | sudo bash -

- name: Installing present node.js
  yum:
    name: nodejs
    state: present
    lock_timeout: 180

# yarnのインストール
- name: Install yarn package
  get_url: url="https://dl.yarnpkg.com/rpm/yarn.repo" dest=/etc/yum.repos.d/yarn.repo

- name: Installing yarn
  yum:
    name: yarn
    state: present
    lock_timeout: 180

